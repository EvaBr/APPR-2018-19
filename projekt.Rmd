---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Tjaša Renko"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---



```{r setup, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding="UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding="UTF-8")
```

```{r rstudio, echo=FALSE, results='asis'}
# Izris povezave do RStudia na Binderju
source("lib/rstudio.r", encoding="UTF-8")
```

# Izbira teme

Za svojo projektno nalogo bom analizirala izpuste toplogrednih plinov po Evropi. Primerjala bom razvitost držav (BDP) z 
okoljskimi davki in letnimi izpusti.

***

# Obdelava, uvoz in čiščenje podatkov

Uvozila sem podatke o državah v obliki CSV in s pomočjo paketa Eurostat iz spletne strani Eurostat. Podatki so podani v treh razpredelnicah.

1. `Letni izpusti toplogrednih plinov` - podatki za posamezen plin, državo in leto
  - `LETO` - spremenljivka: leto, v katerem gledamo podatke (število),
  - `DRŽAVA` - spremenljivka: ime države (neurejen faktor),
  - `EMISIJE OGLJIKOVEGA DIOKSIDA V TONAH` - meritev: letni izpust v določeni državi (število),
  - `EMISIJE OGLJIKOVEGA DIOKSIDA V TONAH` - meritev: letni izpust v določeni državi (število),
  - `EMISIJE OGLJIKOVEGA DIOKSIDA V TONAH` - meritev: letni izpust v določeni državi (število).

2. `Pregled držav` - splošni podatki, pripravljeni za primerjanje
  - `DRŽAVA` - spremenljivka: ime države(neurejen faktor),
  - `LETO` - spremenljivka: leto, v katerem gledamo podatke (število),
  - `ŠTEVILO PREBIVALCEV` - meritev: število prebivalcev določene države v določenem letu (število),
  - `GDP V MILIJONIH EVROV` - meritev: bruto domači proizvod določene države v določenem letu (število),
  - `GDP NA PREBIVALCA V EVRIH` - meritev: bruto domači proizvod na prebivalca določene države v določenem letu (število).
  
3. `Okoljski davki` - pregled obdavčitev dejavnosti, ki slabo vplivajo na okolje
  - `DRŽAVA` - spremenljivka: ime države(neurejen faktor),
  - `LETO` - spremenljivka: leto, v katerem gledamo podatke (število),
  - `DAVKI NA ENERGIJO V MILIJONIH EVROV` - meritev: (število),
  - `DAVKI NA ONESNAŽEVANJE V MILIJONIH EVROV` - meritev: (število),
  - `DAVKI NA RABO NARAVNIH VIROV V MILIJONIH EVROV` - meritev: (število),
  - `DAVKI NA PROMET V MILIJONIH EVROV` - meritev: (število),
  - `OKOLJSKI DAVKI V MILIJONIH EVROV` - meritev: (število).

***

# Analiza in vizualizacija podatkov

```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
source("https://raw.githubusercontent.com/RenkoT97/APPR-2018-19/master/vizualizacija/vizualizacija1.r", encoding="UTF-8")
```

Prvi graf prikazuje letne emisije toplogrednih plinov v tonah in državah med leti 2007 in 2016. Opazimo, da povečini letne emisije posamezne države tekom danih let rahlo upadajo.

print(graf1)

Spodnji graf primerja GDP per habita z letnimi emisijami toplogrednih plinov držav v tonah na prebivalca. Opazimo, da višji GDP ne pripomore k manjšim emisijam; kvečjemu obratno.

print(graf2)

Naslednji graf prikazuje odstotek GDP Evropskih držav, namenjen investicijam za varovanje okolja, med leti 2007 in 2013.

print(graf3)

Spodnji zemljevid prikazuje letne emisije vseh toplogrednih plinov posameznih držav v tonah na prebivalca, merjene v letu 2013.

print(map)

Na tortnem diagramu so prikazani podatki o pobranih okoljskih davkih kot deležu denarja, pobranega v ta namen, po celi Evropi.

print(tortni_diagram)

***

# Napredna analiza podatkov

```{r analiza, echo=FALSE, message=FALSE}
source("analiza/analiza.r", encoding="UTF-8")
```

***

```{r shiny, echo=FALSE}
shinyAppDir("shiny", options=list(width="100%", height=600))
```
